!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";n.r(t),n.d(t,"showLoader",(function(){return o})),n.d(t,"hideLoader",(function(){return a}));var r=n(1),i={lines:20,length:80,width:16,radius:84,scale:1.2,corners:1,color:"#000000",fadeColor:"transparent",speed:2.2,rotate:0,animation:"spinner-line-fade-quick",direction:1,zIndex:2e9,className:"spinner",top:"51%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"};function o(){const e=document.querySelector(".main"),t=new r.Spinner(i).spin();e.appendChild(t.el)}function a(){document.querySelector(".spinner").remove()}},function(e,t,n){"use strict";n.r(t),n.d(t,"Spinner",(function(){return o}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},o=function(){function e(e){void 0===e&&(e={}),this.opts=r(r({},i),e)}return e.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),a(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",r="none";!0===t.shadow?r="0 2px 4px #000":"string"==typeof t.shadow&&(r=t.shadow);for(var i=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,i=e.split(",");r<i.length;r++){var o=i[r].match(t);if(null!==o){var a=+o[2],s=+o[5],l=o[4],d=o[7];0!==a||l||(l=d),0!==s||d||(d=l),l===d&&n.push({prefix:o[1]||"",x:a,y:s,xUnits:l,yUnits:d,end:o[8]})}}return n}(r),o=0;o<t.lines;o++){var d=~~(360/t.lines*o+t.rotate),p=a(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:s(t.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+d+"deg) translateX("+t.radius+"px)"}),c=o*t.direction/t.lines/t.speed;c-=1/t.speed;var u=a(document.createElement("div"),{width:"100%",height:"100%",background:s(t.color,o),borderRadius:n,boxShadow:l(i,d),animation:1/t.speed+"s linear "+c+"s infinite "+t.animation});p.appendChild(u),e.appendChild(p)}}(this.el,this.opts),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();function a(e,t){for(var n in t)e.style[n]=t[n];return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=d(o.x,o.y,t);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}function d(e,t,n){var r=n*Math.PI/180,i=Math.sin(r),o=Math.cos(r);return[Math.round(1e3*(e*o+t*i))/1e3,Math.round(1e3*(-e*i+t*o))/1e3]}},function(e,t,n){n(4),n(3),n(1),e.exports=n(0)},function(e,t,n){},function(e,t,n){"use strict";function r(e){return JSON.parse(window.localStorage.getItem(e))}n.r(t);var i=n(0);const o=window.innerWidth;let a;a=o>1200?4:o>700?2:1;let s,l=new Swiper(".swiper-container",{slidesPerView:a,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function d(e,t,n,r,i,...o){let a=document.createElement(e);return t&&a.classList.add(...t),n&&0!=n.length&&n.forEach(e=>{a.appendChild(e)}),r&&r.appendChild(a),i&&(a.innerHTML=i),o.length&&o.forEach(([e,t])=>{t?a.dataset[e]=t:a.setAttribute(e,"")}),a}function p(e){const t=document.querySelector(".swiper-wrapper");t.innerHTML="";for(let e=0;e<20;e++)d("div",["swiper-slide","slide_"+e],null,t,e);for(let t=0;t<20;t++){const n=document.querySelectorAll(".slide_"+t);if(t<e.results.length)for(let r of n)r.setAttribute("pos",t),e.results[t].original_title?r.innerHTML=`<p class="name-of-movie">${e.results[t].original_title}</p>`:r.innerHTML='<p class="name-of-movie">Original title not found</p>',e.results[t].poster_path?r.innerHTML+=`<img src="https://image.tmdb.org/t/p/w500${e.results[t].poster_path}" width="100%" height="80%">`:r.innerHTML+='<img src="https://kritka.info/uploads/posts/no_poster.jpg" width="100%" height="80%">';else for(let e of n)e.remove()}l.slideTo(0,1500),l.update(),function(e){const t=document.querySelectorAll(".swiper-slide");for(let r of t)r.addEventListener("click",()=>n(r,e.results));function n(e,t){const n=document.querySelector(".modal");n.classList.add("open");const r=e.getAttribute("pos"),o=document.querySelector(".modal-window");(async()=>{try{let e;Object(i.showLoader)(),"movie"===t[r].media_type?e=`https://api.themoviedb.org/3/movie/${t[r].id}?api_key=888e6f69f5b71f4265688d6b69d2a141&language=en`:"tv"===t[r].media_type?e=`https://api.themoviedb.org/3/tv/${t[r].id}?api_key=888e6f69f5b71f4265688d6b69d2a141&language=en`:"person"===t[r].media_type&&(e=`https://api.themoviedb.org/3/person/${t[r].id}?api_key=888e6f69f5b71f4265688d6b69d2a141&language=en`);const a=await fetch(e),s=await a.json();t[r].original_title?o.innerHTML=`<h2><p class = modal__original_title>${t[r].original_title}</p> <p><a href="#" class="close"></p></h2>`:o.innerHTML='<h2><p class = modal__original_title>Original title not found</p> <p><a href="#" class="close"></p></h2>',s.tagline&&(o.innerHTML+=`<p class = modal__tagline>${s.tagline}</p>`),o.innerHTML+="<hr>",t[r].poster_path?o.innerHTML+=`<img class ="modal__poster" src="https://image.tmdb.org/t/p/w500${t[r].poster_path}">`:o.innerHTML+='<img class ="modal__poster" src="https://kritka.info/uploads/posts/no_poster.jpg" width="100%" height="80%">',t[r].overview&&(o.innerHTML+=`<p class = modal__movie_overview>${t[r].overview}</p>`),o.innerHTML+="<hr>",t[r].release_date?o.innerHTML+=`<p class="modal__date_of_release">Date of release: ${t[r].release_date}</p><hr>`:o.innerHTML+='<p class="modal__date_of_release">Date of release not found</p><hr>',s.imdb_id?(o.innerHTML+=`<a href="https://imdb.com/title/${s.imdb_id}" class="modal__link" imdb_link target="_blank">IMDB.com</a>`,s.homepage&&(o.innerHTML+=`<a href="${s.homepage}" class="modal__link" target="_blank">Official site</a>`)):s.homepage&&(o.innerHTML+=`<a href="${s.homepage}" class="modal__link_homepage" target="_blank">Official site</a>`);const l=document.querySelector(".modal-overlay");l.addEventListener("click",e=>{l===e.target&&(o.innerHTML="",n.classList.remove("open"))});document.querySelector(".close").addEventListener("click",()=>{o.innerHTML="",n.classList.remove("open")}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.remove("open")}),Object(i.hideLoader)()}catch(e){alert("Something went wrong. The page will reboot."),window.location.reload()}})()}}(e)}async function c(e,t){try{Object(i.showLoader)(),e&&e.preventDefault();let a=document.querySelector(".input").value;t&&(a=t),""===a&&(alert("Empty string! Showing last succes request"),a=r("lastTextForSearch"));const s="https://api.themoviedb.org/3/search/multi?api_key=888e6f69f5b71f4265688d6b69d2a141&language=en&query="+a,l=await fetch(s),d=await l.json();if(a&&0!=d.results.length)n="lastTextForSearch",o=a,window.localStorage.setItem(n,JSON.stringify(o));else{alert("The results not found! Showing last succes request.");c(null,r("lastTextForSearch")).then(e=>{p(e)})}return Object(i.hideLoader)(),d}catch(e){alert("Something went wrong"),window.location.reload()}var n,o}window.onresize=()=>{const e=window.innerWidth;l.params.slidesPerView=e>1200?4:e>700?2:1,l.update()},r("lastTextForSearch")?(s=c(null,r("lastTextForSearch")),s.then(e=>{p(e)})):(s=c(null,"Avengers"),s.then(e=>{p(e)}));document.querySelector(".search-form").addEventListener("submit",e=>{c(e).then(e=>{p(e)})})}]);
//# sourceMappingURL=bundle.js.map